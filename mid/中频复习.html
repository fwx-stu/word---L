<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>中频单词复习检验</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary: #ff85a2;
      --secondary: #a6d0ff;
      --accent: #ffd166;
      --success: #8ac926;
      --error: #ff6b6b;
      --background: #fff9f9;
      --text: #5a5a72;
      --card-shadow: 0 4px 15px rgba(0,0,0,0.08);
      --transition: all 0.3s ease;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: linear-gradient(135deg, #fff9f9 0%, #f0f9ff 100%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text);
      text-align: center;
      padding: 15px;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    header {
      margin: 15px 0 10px;
      position: relative;
    }
    
    h1 {
      color: var(--primary);
      font-size: 1.7rem;
      margin-bottom: 5px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }
    
    .subtitle {
      color: #888;
      font-size: 1rem;
      margin-bottom: 15px;
    }
    
    .stats {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 15px;
    }
    
    .stat-box {
      background: white;
      border-radius: 15px;
      padding: 10px 15px;
      box-shadow: var(--card-shadow);
      min-width: 100px;
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--primary);
    }
    
    .stat-label {
      font-size: 0.85rem;
      color: #888;
    }
    
    #timer {
      background: linear-gradient(135deg, #a6d0ff 0%, #b9deff 100%);
      color: white;
    }
    
    #tips {
      background-color: rgba(255, 255, 255, 0.85);
      border-radius: 20px;
      padding: 12px 20px;
      font-size: 0.95rem;
      margin: 0 auto 20px;
      max-width: 800px;
      box-shadow: var(--card-shadow);
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    #game {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 12px;
      justify-content: center;
      padding: 15px;
      margin: 0 auto 20px;
      max-width: 1000px;
    }
    
    .card {
      background: white;
      border-radius: 16px;
      padding: 18px 12px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: var(--card-shadow);
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 90px;
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
      font-size: 1rem;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }
    
    .card.selected {
      transform: scale(1.05);
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(255, 209, 102, 0.3);
    }
    
    .card.match {
      animation: matchAnimation 0.8s forwards;
    }
    
    .card.hidden {
      visibility: hidden;
      opacity: 0;
      transform: scale(0);
    }
    
    .english {
      background: linear-gradient(135deg, var(--primary) 0%, #ff9eb5 100%);
      color: white;
    }
    
    .chinese {
      background: linear-gradient(135deg, var(--secondary) 0%, #b9deff 100%);
      color: #2c5d92;
    }
    
    .english.selected {
      background: linear-gradient(135deg, #ff6b93 0%, #ff9eb5 100%);
    }
    
    .chinese.selected {
      background: linear-gradient(135deg, #7db9ff 0%, #b9deff 100%);
    }
    
    .hint-highlight {
      animation: pulse 2s infinite;
      box-shadow: 0 0 15px rgba(255, 209, 102, 0.8);
    }
    
    @keyframes matchAnimation {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); background-color: var(--success); }
      100% { transform: scale(0); opacity: 0; }
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 8px rgba(255, 209, 102, 0.6); }
      50% { box-shadow: 0 0 20px rgba(255, 209, 102, 1); }
      100% { box-shadow: 0 0 8px rgba(255, 209, 102, 0.6); }
    }
    
    #controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin: 20px auto;
      max-width: 600px;
    }
    
    .control-btn {
      background: white;
      border: none;
      border-radius: 50px;
      padding: 12px 20px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--card-shadow);
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      color: var(--text);
    }
    
    .control-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }
    
    .control-btn:active {
      transform: translateY(1px);
    }
    
    .control-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    #prevPage { background: linear-gradient(to right, #ffd8e6, #ffb6d0); }
    #nextPage { background: linear-gradient(to right, #d0e8ff, #a6d0ff); }
    #hint { background: linear-gradient(to right, #fff0d0, #ffe4a8); }
    #reshuffle { background: linear-gradient(to right, #daffd0, #b8ffa8); }
    
    #hintCounter {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 12px 25px;
      font-size: 1rem;
      margin: 5px auto 0;
      max-width: 300px;
      box-shadow: var(--card-shadow);
      font-weight: 500;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.4s ease;
    }
    
    .modal-content {
      background: white;
      border-radius: 25px;
      padding: 35px;
      text-align: center;
      max-width: 90%;
      width: 400px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      transform: scale(0.9);
      animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    
    .modal h2 {
      color: var(--primary);
      margin-bottom: 15px;
      font-size: 2rem;
    }
    
    .modal p {
      margin-bottom: 15px;
      font-size: 1.2rem;
      line-height: 1.6;
    }
    
    .modal-stats {
      background: rgba(166, 208, 255, 0.2);
      border-radius: 15px;
      padding: 15px;
      margin: 20px 0;
    }
    
    .modal-stats div {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      font-size: 1.1rem;
    }
    
    .modal-btn {
      background: linear-gradient(to right, var(--primary), #ff6b93);
      color: white;
      border: none;
      border-radius: 50px;
      padding: 14px 35px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(255, 133, 162, 0.4);
      margin: 5px;
    }
    
    .modal-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 133, 162, 0.6);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes scaleIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
      h1 { font-size: 1.5rem; }
      .stat-box { padding: 8px 12px; min-width: 80px; }
      .stat-value { font-size: 1.3rem; }
      #game { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
      .card { min-height: 80px; font-size: 0.9rem; padding: 15px 10px; }
      .control-btn { padding: 10px 15px; font-size: 0.9rem; }
      .modal-content { padding: 25px; }
      .modal h2 { font-size: 1.6rem; }
    }
    
    @media (max-width: 480px) {
      h1 { font-size: 1.3rem; }
      .stats { gap: 10px; }
      .stat-box { padding: 6px 10px; min-width: 70px; }
      .stat-value { font-size: 1.1rem; }
      .stat-label { font-size: 0.75rem; }
      #game { grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px; }
      .card { min-height: 75px; font-size: 0.85rem; padding: 12px 8px; }
      .control-btn { flex: 1 0 40%; max-width: 45%; padding: 8px 12px; }
      /* .control-btn span { display: none; } */
      #hintCounter { padding: 10px 15px; font-size: 0.9rem; }
    }
    
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: var(--primary);
      animation: confetti-fall 5s linear forwards;
      z-index: 1001;
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    
    .encouragement {
      font-style: italic;
      color: #ff6b93;
      font-size: 1.1rem;
      margin: 15px 0;
      line-height: 1.4;
    }
    
    .final-actions {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1><i class="fas fa-book"></i> 中频单词复习检验 <i class="fas fa-book"></i></h1>
      <div class="subtitle">Day1-6 随机抽取100个单词</div>
      
      <div class="stats">
        <div class="stat-box" id="timer">
          <div class="stat-value" id="timeDisplay">00:00</div>
          <div class="stat-label">用时</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="pairCount">0</div>
          <div class="stat-label">已配对</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="remaining">0</div>
          <div class="stat-label">剩余</div>
        </div>
      </div>
    </header>
    
    <div id="tips">
      <i class="fas fa-lightbulb"></i> 点击一个英文单词，再点击它的中文释义进行配对。匹配成功的单词会消失！全部单词配对完成即可进入下一页。
    </div>
    
    <div id="game"></div>
    
    <div id="controls">
      <button id="prevPage" class="control-btn"><i class="fas fa-arrow-left"></i> <span>上一页</span></button>
      <button id="nextPage" class="control-btn"><span>下一页</span> <i class="fas fa-arrow-right"></i></button>
      <button id="hint" class="control-btn"><i class="fas fa-lightbulb"></i> <span>提示</span></button>
      <button id="reshuffle" class="control-btn"><i class="fas fa-random"></i> <span>重新抽取</span></button>
    </div>
    
    <div id="hintCounter">提示剩余次数: <span id="hintCount">3</span> 次</div>
  </div>
  
  <!-- 单页完成弹窗 -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <h2><i class="fas fa-trophy"></i> 恭喜！</h2>
      <p>你成功完成了这一页的所有单词配对！</p>
      
      <div class="modal-stats">
        <div>
          <span>用时：</span>
          <span id="finalTime">00:00</span>
        </div>
        <div>
          <span>提示使用：</span>
          <span id="hintsUsed">0</span>
        </div>
        <div>
          <span>单词数量：</span>
          <span id="totalWords">0</span>
        </div>
      </div>
      
      <button class="modal-btn" id="continueBtn">继续游戏</button>
    </div>
  </div>
  
  <!-- 所有页面完成弹窗 -->
  <div id="finalModal" class="modal">
    <div class="modal-content">
      <h2><i class="fas fa-crown"></i> 恭喜通关！</h2>
      
      <div class="encouragement">
        <p>太棒了！你成功完成了所有单词配对！</p>
        <p>你的词汇量令人印象深刻！</p>
      </div>
      
      <div class="modal-stats">
        <div>
          <span>总用时：</span>
          <span id="totalTime">00:00</span>
        </div>
        <div>
          <span>总提示使用：</span>
          <span id="totalHintsUsed">0</span>
        </div>
        <div>
          <span>总单词数量：</span>
          <span id="totalWordsCount">100</span>
        </div>
      </div>
      
      <div class="final-actions">
        <button class="modal-btn" id="restartFinalBtn">重新开始</button>
        <button class="modal-btn" id="exitBtn" style="background: linear-gradient(to right, #a6d0ff, #7db9ff);">退出游戏</button>
      </div>
    </div>
  </div>

  <!-- 音效元素 - 音效文件位于sound/目录下 -->
  <audio id="clickSound" preload="auto">
    <source src="sound/click.mp3" type="audio/mpeg">
  </audio>
  <audio id="errorSound" preload="auto">
    <source src="sound/error.mp3" type="audio/mpeg">
  </audio>
  <audio id="successSound" preload="auto">
    <source src="sound/success.mp3" type="audio/mpeg">
  </audio>
  <audio id="winSound" preload="auto">
    <source src="sound/win.mp3" type="audio/mpeg">
  </audio>
  <audio id="finalWinSound" preload="auto">
    <source src="sound/win.mp3" type="audio/mpeg">
  </audio>

  <script>
    // 词汇数据 - 请在此处添加您的词汇
    const allWordPairs = [
    {"en": "abolish", "zh": "废除"}, {"en": "agenda", "zh": "议事日程"}, {"en": "exact", "zh": "精确的，确切的"},
     {"en": "activate", "zh": "激活，使起作用"}, {"en": "alcohol", "zh": "酒，酒精饮料"}, {"en": "alien", "zh": "外国人，外来的，陌生的，外国的"},
     {"en": "ambitious", "zh": "有雄心的，有野心的"}, {"en": "monarch", "zh": "君主"}, {"en": "alarm", "zh": "惊慌，警报器"},
     {"en": "astronomy", "zh": "天文学"}, {"en": "disaster", "zh": "灾祸，灾难"}, {"en": "auction", "zh": "拍卖"},
     {"en": "combat", "zh": "防止，减轻，战斗"}, {"en": "combination", "zh": "联合体，联合"}, {"en": "biology", "zh": "生物，生物学"},
     {"en": "embody", "zh": "体现"}, {"en": "symbol", "zh": "象征，符号，记号"}, {"en": "bonus", "zh": "奖金，红利，额外收获"},
     {"en": "neighborhood", "zh": "社区，邻居"}, {"en": "border", "zh": "边界，与……接壤"}, {"en": "calculate", "zh": "计算，推测"}, {"en": "camp", "zh": "营地，营房，营地，露营"}, {"en": "captive", "zh": "牺牲的，被监禁的"},
     {"en": "conception", "zh": "概念，构想，怀孕"}, {"en": "conceive", "zh": "构想，想象，怀孕"}, {"en": "recipient", "zh": "接受者"},
     {"en": "canal", "zh": "运河，管道"}, {"en": "occasion", "zh": "场合，时刻，机会，重大活动"}, {"en": "cast", "zh": "投，抛，扔，投掷，铸模"},
     {"en": "caution", "zh": "警告，提醒"}, {"en": "conceal", "zh": "隐藏，隐瞒"}, {"en": "proceed", "zh": "进行，开始行动"},
     {"en": "exceed", "zh": "超过，超出，超越"}, {"en": "excess", "zh": "过多的，过度"}, {"en": "predecessor", "zh": "前辈，前任"},
     {"en": "succession", "zh": "系列，连续，继任"}, {"en": "precede", "zh": "在……之前出现"}, {"en": "excel", "zh": "擅长，突出"},
     {"en": "census", "zh": "人口普查，人口调查"}, {"en": "charter", "zh": "许可证，包租"}, {"en": "chemist", "zh": "化学家"}, {"en": "chemistry", "zh": "化学"}, {"en": "chronic", "zh": "长期的，慢性的，长期患病的"},
     {"en": "exciting", "zh": "令人激动的，使人兴奋的"}, {"en": "clarity", "zh": "清晰，清楚"}, {"en": "classification", "zh": "类别，分类，归类"},
     {"en": "disclose", "zh": "揭露，透露，使显露"}, {"en": "exclusive", "zh": "排他的，专用的，豪华的，高级的"}, {"en": "coast", "zh": "海滨，海滨"},
     {"en": "agriculture", "zh": "农业，农学"}, {"en": "colony", "zh": "殖民地，聚居人群"}, {"en": "cosmic", "zh": "宇宙的，极大的"},
     {"en": "encounter", "zh": "遭遇，遇到"}, {"en": "discourage", "zh": "阻止，使泄气"}, {"en": "accordingly", "zh": "相应地，因此"},
     {"en": "recover", "zh": "回复，恢复"}, {"en": "incredible", "zh": "极好的，难以置信的"}, {"en": "concrete", "zh": "真实的，混凝土，混凝土覆盖"},
     {"en": "occupy", "zh": "使用，占用，担任"}, {"en": "accurate", "zh": "精确的，准确的"}, {"en": "curious", "zh": "有好奇心的，好奇的"}, {"en": "currency", "zh": "货币，传播"}, {"en": "curriculum", "zh": "课程"},
     {"en": "dense", "zh": "密集的，浓密的，浓重的"}, {"en": "density", "zh": "密度"}, {"en": "dedicate", "zh": "致力于"},
     {"en": "contradict", "zh": "相抵触，相矛盾，反驳"}, {"en": "dictate", "zh": "命令，口述"}, {"en": "verdict", "zh": "裁决，裁定，意见，结论"},
     {"en": "mandate", "zh": "命令，授权"}, {"en": "edition", "zh": "版本"}, {"en": "division", "zh": "分开，分歧"},
     {"en": "document", "zh": "文件，记录"}, {"en": "doctrine", "zh": "教义"}, {"en": "paradox", "zh": "有矛盾特点的情况"},
     {"en": "drastic", "zh": "剧烈的，严重的"}, {"en": "deduce", "zh": "推断"}, {"en":"reproduce","zh":"繁殖，再现，复制"},{"en":"conductor","zh":"指挥，售票员"},{"en":"durable","zh":"耐用的，持久的"},{"en":"duration","zh":"持续时间，期间"},{"en":"electric","zh":"电的，电动的"},{"en":"adequate","zh":"足够的，合格的"},{"en":"energetic","zh":"精力充沛的，充满活力的"},{"en":"possession","zh":"具有，个人财产"},{"en":"fame","zh":"名声，名气"},{"en":"welfare","zh":"福利，幸福，福祉"},{"en":"fare","zh":"车费"},{"en":"fatal","zh":"致命的，灾难性的"},{"en":"default","zh":"默认状态，违约"},{"en":"favorable","zh":"有利的，肯定的"},{"en":"beneficial","zh":"有利的，有益的"},{"en":"magnificent","zh":"壮丽的，信赖赞扬的"},{"en":"sacrifice","zh":"献出，牺牲"},{"en":"satisfactory","zh":"令人满意的，够好的"},{"en":"artefact","zh":"手工艺品"},{"en":"defeat","zh":"战胜，失败"}, {"en":"facilitate","zh":"促进，使便利"},{"en":"federation","zh":"联盟"},{"en":"defend","zh":"捍卫"},{"en":"manifest","zh":"显示，显露，明显的"},{"en":"interfere","zh":"妨碍，干扰"},{"en":"interference","zh":"干涉，干扰"},{"en":"inference","zh":"推断的结果"},{"en":"indifferent","zh":"漠不关心的"},{"en":"differentiate","zh":"区分，构成……间差别的特征"},{"en":"preferable","zh":"更可取的，更合适的"},{"en":"fibre","zh":"纤维，纤维制品，纤维"},{"en":"confident","zh":"把握的，有信心的"},{"en":"fiasco","zh":"惨败"},{"en":"fail","zh":"送交，失败，失灵"},{"en":"file","zh":"文件，归档"},{"en":"definite","zh":"明确的，肯定的，有把握的"},{"en":"confirm","zh":"确认，确证"},{"en":"reflection","zh":"反映，反射"},{"en":"flourish","zh":"繁荣，兴旺，长势好"},{"en":"fluid","zh":"流体的，液体的，流体"}, {"en":"formulate","zh":"制定，确切表达"},{"en":"fossil","zh":"化石"},{"en":"fragment","zh":"碎片，分裂"},{"en":"fraction","zh":"小部分，少量，小数"},{"en":"confuse","zh":"使迷惑，使混淆"},{"en":"confusion","zh":"混乱，混淆"},{"en":"diffuse","zh":"扩散，传播"},{"en":"garment","zh":"衣服"},{"en":"geology","zh":"地质学"},{"en":"exaggerate","zh":"夸大，言过其实"},{"en":"gigantic","zh":"巨大的，庞大的"},{"en":"cognitive","zh":"认知的"},{"en":"ignorant","zh":"不了解的，很无礼的"},{"en":"grain","zh":"谷物，颗粒"},{"en":"grateful","zh":"表示感谢的"},{"en":"aggravate","zh":"使恶化，使加重，使恼火"},{"en":"gravity","zh":"重力，严重性"},{"en":"ingredient","zh":"因素，原料"},{"en":"progressive","zh":"进步的，稳步的，改革派"},{"en":"gross","zh":"总的，严重的"}, {"en":"inhabit","zh":"居住"},{"en":"inhabitant","zh":"居民"},{"en":"exhaust","zh":"耗尽，废气"},{"en":"coherent","zh":"连贯的，有条理的"},{"en":"hesitate","zh":"犹豫，犹豫不决"},{"en":"hostile","zh":"敌对的，强烈反对的"},{"en":"hospitality","zh":"好客，款待"},{"en":"humble","zh":"谦逊的，卑微的"},{"en":"hygiene","zh":"卫生"},{"en":"ideology","zh":"意识形态"},{"en":"imaginative","zh":"富于想象力的"},{"en":"inferior","zh":"较差的，级别低的"},{"en":"insect","zh":"昆虫"},{"en":"integrate","zh":"合并，融入"},{"en":"integrity","zh":"诚实正直，完整"},{"en":"jet","zh":"喷气式飞机，坐飞机旅行"},{"en":"inject","zh":"注入，投入"},{"en":"joint","zh":"联合的，关节"},{"en":"juvenile","zh":"少年的，幼稚的"},{"en":"elaborate","zh":"精心制作的，精心制作，详细阐述"}, {"en":"enlarge","zh":"增大，放大"}, {"en":"legacy","zh":"遗留问题，遗产"},{"en":"elegant","zh":"漂亮雅致的，巧妙的"},{"en":"dilemma","zh":"困境"},{"en":"lever","zh":"控制杆，撬动"},{"en":"liable","zh":"易于……的，可能的"},{"en":"reliance","zh":"依赖"},{"en":"alliance","zh":"结盟，联盟"},{"en":"liberate","zh":"使自由，解放"},{"en":"delicate","zh":"注意细节的，精致的，精美的"},{"en":"oblige","zh":"强迫，使感激"},{"en":"limitation","zh":"局限"},{"en":"literally","zh":"字面上，确实地"},{"en":"literacy","zh":"读写能力"},{"en":"location","zh":"地方，地点"},{"en":"apologize","zh":"道歉"},{"en":"catalogue","zh":"目录，编目录"},{"en":"prolong","zh":"延长，拖长"},{"en":"illusion","zh":"错觉"},{"en":"luxury","zh":"奢侈品，奢华"},{"en":"margin","zh":"边缘，利润，边缘部分"}, {"en":"mechanic","zh":"技工，机械修理工，机械学，方法"},{"en":"dimension","zh":"方面，维度，大小，尺寸"},{"en":"commerce","zh":"贸易，商务，商业"},{"en":"merit","zh":"价值，优点，值得，优异"},{"en":"prominent","zh":"杰出的，重要的"},{"en":"minimum","zh":"最低限度，最少量"},{"en":"minimize","zh":"把……减至最小量"},{"en":"misery","zh":"苦难"},{"en":"miserable","zh":"痛苦的，使难受的"},{"en":"promising","zh":"有希望的，有前途的"},{"en":"transmit","zh":"传送，传播"},{"en":"submit","zh":"提交，呈递"},{"en":"admission","zh":"准许加入，加入权"},{"en":"mixture","zh":"混合"},{"en":"moderate","zh":"适中的，温和的"},{"en":"modify","zh":"修改，调整"},{"en":"motive","zh":"原因，目的"},{"en":"remote","zh":"偏远的，微乎其微的，遥远的"},{"en":"mount","zh":"山，发动，增加"},{"en":"multitude","zh":"大量，群众，大批"}, {"en":"commute","zh":"上下班交通，通勤，上下班往返"},{"en":"mutual","zh":"相互的，共同的"},{"en":"mystery","zh":"神秘的事物，神秘的人，神秘"},{"en":"navy","zh":"海军"},{"en":"innocent","zh":"无罪的，清白的，无害的"},{"en":"numerical","zh":"数字的"},{"en":"nurture","zh":"抚养，养育"},{"en":"nutrition","zh":"营养，滋养"},{"en":"petrol","zh":"汽油"},{"en":"adolescent","zh":"青春期的，青少年"},{"en":"cooperate","zh":"合作"},{"en":"operator","zh":"经营者，操作员"},{"en":"opt","zh":"选择"},{"en":"orbit","zh":"轨道"},{"en":"orchestra","zh":"管弦乐队"},{"en":"organic","zh":"有机的，器官的"},{"en":"accompany","zh":"陪伴，伴随"},{"en":"companion","zh":"同伴，同行者"},{"en":"expansion","zh":"扩张，扩展"},{"en":"comparable","zh":"类比的"}, {"en":"comparative","zh":"比较的，比效高的"},{"en":"preparation","zh":"准备，预备"},{"en":"apartment","zh":"公寓套房"},{"en":"depart","zh":"离开，启程"},{"en":"partial","zh":"部分的，偏袒的"},{"en":"portion","zh":"部分，分担的责任"},{"en":"passive","zh":"被动的，消极的"},{"en":"sympathetic","zh":"同情的，招人喜欢的"},{"en":"compel","zh":"强迫"},{"en":"propel","zh":"推动，驱使"},{"en":"penalty","zh":"惩罚"},{"en":"compensate","zh":"弥补，赔偿"},{"en":"pension","zh":"养老金"},{"en":"suspend","zh":"暂停，延缓，拒退"},{"en":"personnel","zh":"全体人员"},{"en":"pessimistic","zh":"悲观的，悲观主义的"},{"en":"phase","zh":"阶段，时期"},{"en":"depict","zh":"描写，描绘"},{"en":"paint","zh":"油漆涂层，画"},{"en":"pile","zh":"堆，堆放"}, {"en":"simplify","zh":"使简化，使简易"},{"en":"implicit","zh":"含蓄的，内含的，绝对的"},{"en":"implement","zh":"实施"},{"en":"surplus","zh":"过剩，多余的"},{"en":"appointment","zh":"任命，职务"},{"en":"metropolitan","zh":"都市的，本土的"},{"en":"component","zh":"成分，零部件"},{"en":"compose","zh":"创作，作曲，创作"},{"en":"compound","zh":"混合物，使加重"},{"en":"predator","zh":"捕食性动物，捕食者"},{"en":"comprise","zh":"包含，包括"},{"en":"comprehend","zh":"理解"},{"en":"premier","zh":"总理，省总理，最佳的"},{"en":"principal","zh":"主要的，校长"},{"en":"prime","zh":"重要的，鼎盛时期，做好准备"},{"en":"primitive","zh":"原始的，发展水平低的"},{"en":"approve","zh":"批准，赞成"},{"en":"proof","zh":"证据，证明，验证"},{"en":"acquaintance","zh":"熟人，认识的人"},{"en":"qualify","zh":"使合格，取得资格"}, {"en":"quest","zh":"追求，探索"},{"en":"rage","zh":"盛怒"},{"en":"ray","zh":"光线，一丝"},{"en":"realistic","zh":"实际的，现实的，逼真的，现实主义的"},{"en":"thrive","zh":"蓬勃发展，茁壮成长"}, {"en":"enrol","zh":"加入，注册"},{"en":"romantic","zh":"爱情的，浪漫的，浪漫的人"},{"en":"corrupt","zh":"使腐化，腐败的"},{"en":"interrupt","zh":"打断"},{"en":"sanction","zh":"制裁"},{"en":"conscience","zh":"良知，良心"},{"en":"scope","zh":"范围，仔细看"},{"en":"scrutiny","zh":"仔细检查"},{"en":"resemble","zh":"像，与……相似"},{"en":"senate","zh":"参议院"},{"en":"senator","zh":"参议员"},{"en":"nonsense","zh":"谬论，胡言乱语"},{"en":"consensus","zh":"共识"},{"en":"sensible","zh":"明智的，意识到的"},{"en":"sentiment","zh":"观点，情绪，伤感"},{"en":"consent","zh":"同意，允许"},{"en":"presently","zh":"目前，现在"},{"en":"subsequent","zh":"随后的"},{"en":"prosecute","zh":"起诉，继续"},{"en":"assert","zh":"断言，坚持表明，维护自己的权力"}, {"en":"servant","zh":"仆人，职员"},{"en":"resident","zh":"居住的，居住者"},{"en":"session","zh":"一段时间，一场，一节，会议"},{"en":"insight","zh":"深入了解，领悟"},{"en":"assignment","zh":"作业，任务，分配，指派"},{"en":"stability","zh":"稳定"},{"en":"instant","zh":"立即的"},{"en":"obstacle","zh":"障碍"},{"en":"resist","zh":"抵制，抵挡，忍住"},{"en":"resistance","zh":"抵抗，阻力"},{"en":"resistant","zh":"抵制的，抵抗的"},{"en":"assistance","zh":"援助"},{"en":"persist","zh":"坚持，持续存在"},{"en":"substitute","zh":"替换，替代，取代"},{"en":"sociable","zh":"合群的，友好的"},{"en":"sole","zh":"唯一的"},{"en":"solid","zh":"固体的，坚硬的，确凿的，固体"},{"en":"consolidate","zh":"巩固，加固，整合"},{"en":"dissolve","zh":"解散，溶解，消失"},{"en":"absolute","zh":"绝对的，肯定的，明晰的"}, {"en":"resort","zh":"诉诸，旅游胜地"},{"en":"spacious","zh":"宽敞的"},{"en":"span","zh":"持续时间，跨越"},{"en":"hemisphere","zh":"半球"},{"en":"correspond","zh":"一致，通信"},{"en":"spy","zh":"间谍，从事情报活动"},{"en":"suspicion","zh":"怀疑，猜疑"},{"en":"suspicious","zh":"可疑的"},{"en":"inspect","zh":"检查"},{"en":"specify","zh":"明确说明，详述"},{"en":"stern","zh":"严格的，严厉的，严峻的"},{"en":"constituent","zh":"组成的，构成的"},{"en":"statute","zh":"法规，条例"},{"en":"restraint","zh":"约束力"},{"en":"constrain","zh":"限制，约束"},{"en":"string","zh":"一系列，串，线"},{"en":"instrument","zh":"器具，乐器"},{"en":"construct","zh":"建造，建构，构思的想法"},{"en":"instruct","zh":"教授，命令"},{"en":"instruction","zh":"指示，指令，用法说明"}, {"en":"summarize","zh":"总结"},{"en":"superior","zh":"更强的，更好的，上司"},{"en":"superiority","zh":"优越，优势"},{"en":"maintenance","zh":"维持，养护"},{"en":"continuous","zh":"连续不断的，持续的"},{"en":"attain","zh":"达到，获得，得到"},{"en":"architect","zh":"建筑师"},{"en":"temper","zh":"心情，使缓和"},{"en":"contemporary","zh":"当代的，同时代的"},{"en":"tempt","zh":"劝诱，引诱"},{"en":"contempt","zh":"蔑视，轻视"},{"en":"contend","zh":"声称，主张，争论，竞争"},{"en":"intensity","zh":"强度"},{"en":"extensive","zh":"广泛的，广阔的"},{"en":"territory","zh":"领地，领土，地区"},{"en":"protest","zh":"抗议，反对"},{"en":"textile","zh":"纺织品"},{"en":"thesis","zh":"论文"},{"en":"tone","zh":"语气，调"},{"en":"distort","zh":"使变形"}, {"en":"trail","zh":"追踪"},{"en":"portray","zh":"描述，刻画"},{"en":"retreat","zh":"撤退，退却"},{"en":"extract","zh":"提取，拔出，摘录"},{"en":"distract","zh":"分散"},{"en":"abstract","zh":"抽象的，摘要"},{"en":"tragedy","zh":"悲剧"},{"en":"intuition","zh":"直觉"},{"en":"tuition","zh":"学费，讲授"},{"en":"disturb","zh":"打扰，弄乱，骚乱"},{"en":"ultimate","zh":"最终的，最根本的，最原始的"},{"en":"abundant","zh":"丰富的，充足的"},{"en":"suburb","zh":"郊区"},{"en":"utilize","zh":"利用"},{"en":"vaccine","zh":"疫苗"},{"en":"evade","zh":"逃避，使困惑"},{"en":"vague","zh":"含糊的，模糊的"},{"en":"vain","zh":"虚荣的，自负的，徒劳的"},{"en":"evaluate","zh":"评价"},{"en":"variation","zh":"差异，变化"}, {"en":"intervene","zh":"干涉，介入"},{"en":"convenience","zh":"便利的事物"},{"en":"venture","zh":"冒险事业，冒风险"},{"en":"verify","zh":"核对，证明"},{"en":"controversial","zh":"有争议的"},{"en":"convert","zh":"使转变，转换"},{"en":"advertise","zh":"做广告，宣传"},{"en":"investigate","zh":"研究，调查"},{"en":"conviction","zh":"定罪，坚定的看法"},{"en":"violence","zh":"暴力，狂热"},{"en":"visa","zh":"签证"},{"en":"supervise","zh":"监督，管理"},{"en":"revise","zh":"改变，修订，复习"},{"en":"visible","zh":"明显的，看得见的"},{"en":"invisible","zh":"无形的，看不见的"},{"en":"advisable","zh":"明智的"},{"en":"revive","zh":"恢复，复苏"},{"en":"vivid","zh":"生动的，清晰的，鲜艳的"},{"en":"provoke","zh":"激起，激怒"},{"en":"revolve","zh":"旋转"}, {"en":"devote","zh":"致力"}, {"en":"censorship","zh":"审查"},{"en":"countryside","zh":"乡村"},{"en":"deadline","zh":"最后期限"},{"en":"framework","zh":"框架，结构"},{"en":"greenhouse","zh":"温室"},{"en":"guideline","zh":"指导方针"},{"en":"hardship","zh":"艰难，困苦"},{"en":"headline","zh":"标题"},{"en":"housework","zh":"家务劳动"},{"en":"lawsuit","zh":"诉讼"},{"en":"lifetime","zh":"一生，使用期，存在期"},{"en":"mankind","zh":"人类"},{"en":"membership","zh":"成员资格"},{"en":"nowhere","zh":"任何地方都不，无处"},{"en":"outlet","zh":"商店，发泄途径"},{"en":"outlook","zh":"看法，观点，前景"},{"en":"overcome","zh":"克服，受到……的太大影响"},{"en":"overseas","zh":"外国的，在国外"},{"en":"overturn","zh":"推翻，倾倒"},{"en":"platform","zh":"计算机平台，站台"}, {"en":"setback","zh":"挫折"},{"en":"somehow","zh":"不知为什么"},{"en":"somewhere","zh":"在某处"},{"en":"straightforward","zh":"简单的，坦诚的"},{"en":"undergo","zh":"经历"},{"en":"underground","zh":"地下的"},{"en":"underlie","zh":"构成……的基础"},{"en":"undertake","zh":"承担"},{"en":"upgrade","zh":"升级，提升"},{"en":"academy","zh":"研究院"},{"en":"acceptance","zh":"接受"},{"en":"acre","zh":"英亩"},{"en":"afterwards","zh":"以后"},{"en":"alert","zh":"使意识到，警惕的，警报"},{"en":"alive","zh":"活着的，激动兴奋的"},{"en":"allowance","zh":"津贴，限额"},{"en":"alphabet","zh":"字母表"},{"en":"altogether","zh":"完全"},{"en":"apparatus","zh":"装置，器官，机构"},{"en":"array","zh":"大量，排列"}, {"en":"automatic","zh":"无意识的，自动的"},{"en":"automobile","zh":"汽车"},{"en":"await","zh":"等待"},{"en":"awkward","zh":"令人尴尬的，笨拙的"},{"en":"bachelor","zh":"学士，单身汉"},{"en":"backward","zh":"迟钝的，落后的"},{"en":"bargain","zh":"便宜货，协议"},{"en":"battery","zh":"电池，系列"},{"en":"beam","zh":"束，笑容"},{"en":"betray","zh":"暴露，背弃"},{"en":"bid","zh":"努力，出价，投标"},{"en":"blow","zh":"打击，利走，吹"},{"en":"bold","zh":"大胆的，轮廓清晰的"},{"en":"bother","zh":"烦恼，费心"},{"en":"breath","zh":"呼吸的空气"},{"en":"breathe","zh":"呼吸"},{"en":"brush","zh":"刷，溅水点"},{"en":"bulk","zh":"大宗，大批，庞大的身躯"},{"en":"cater","zh":"满足，承办酒席"},{"en":"chamber","zh":"房间，室"}, {"en":"chancellor","zh":"财政大臣"},{"en":"cheat","zh":"欺骗，作弊"},{"en":"cheque","zh":"支票"},{"en":"Christmas","zh":"圣诞节"},{"en":"clone","zh":"克隆，极为相似的人"},{"en":"clue","zh":"线索"},{"en":"coach","zh":"教练，指导"},{"en":"comply","zh":"遵守"},{"en":"correlate","zh":"互相关联影响"},{"en":"courtesy","zh":"礼貌"},{"en":"coward","zh":"胆小鬼"},{"en":"crack","zh":"裂缝，裂开，破解"},{"en":"crash","zh":"坠毁，猛烈撞击"},{"en":"crowd","zh":"人群，挤满"},{"en":"cruel","zh":"残忍的，引起痛苦的"},{"en":"cucumber","zh":"黄瓜"},{"en":"curse","zh":"诅咒"},{"en":"cunning","zh":"狡猾的，按狼的"},{"en":"dare","zh":"敢，激"},{"en":"dean","zh":"院长"}, {"en":"decay","zh":"衰败"},{"en":"decorate","zh":"装饰，授给"},{"en":"deem","zh":"视为"},{"en":"deploy","zh":"有效地利用，部署，调度"},{"en":"desert","zh":"拋弃"},{"en":"diligent","zh":"勤勉的"},{"en":"discard","zh":"丢弃"},{"en":"dislike","zh":"厌恶，不喜欢的事物"},{"en":"doom","zh":"厄运，注定"},{"en":"drama","zh":"戏剧"},{"en":"drought","zh":"干旱"},{"en":"eager","zh":"渴望的"},{"en":"edge","zh":"边缘，徐徐移动"},{"en":"elementary","zh":"基本的，基础的"},{"en":"engagement","zh":"密切关系，约会"},{"en":"engineering","zh":"工程"},{"en":"entail","zh":"使……成为必需"},{"en":"enthusiasm","zh":"热情"},{"en":"enthusiastic","zh":"热情的，满腔热枕的"},{"en":"equip","zh":"配备，使能够胜任"}, {"en":"excitement","zh":"兴奋"},{"en":"exert","zh":"施加，运用，努力"},{"en":"fake","zh":"假的，伪造"},{"en":"fantastic","zh":"奇异的，极好的"},{"en":"fellow","zh":"同伴的，同事"},{"en":"fetch","zh":"售得，拿来"},{"en":"flash","zh":"闪光，显示"},{"en":"flaw","zh":"缺点"},{"en":"float","zh":"漂浮，提出，彩车"},{"en":"foresee","zh":"预测"},{"en":"foster","zh":"促进，代养"},{"en":"frame","zh":"构想，构架，画框"},{"en":"frank","zh":"直率的"},{"en":"furnace","zh":"火炉"},{"en":"furnish","zh":"提供，布置家具"},{"en":"gaze","zh":"注视，盯着"},{"en":"genuine","zh":"真实的，真诚的"},{"en":"glance","zh":"一瞥"},{"en":"glimpse","zh":"一瞥，开始认识到"},{"en":"grin","zh":"露齿的笑，咧嘴而笑"}, {"en":"guidance","zh":"引导，咨询"},{"en":"hail","zh":"赞扬，呼喊"},{"en":"harbour","zh":"怀有，港口"},{"en":"harsh","zh":"严厉的，艰苦的，刺耳的"},{"en":"harvest","zh":"收获，收割"},{"en":"heaven","zh":"天堂"},{"en":"helmet","zh":"头盔"},{"en":"heroin","zh":"海洛因"},{"en":"hinder","zh":"阻碍"},{"en":"hint","zh":"透露，暗示，提示"},{"en":"hitherto","zh":"迄今"},{"en":"holder","zh":"拥有者，支持物"},{"en":"illness","zh":"疾病"}, { "en": "incidentally", "zh": "顺便提一下" },
    { "en": "index", "zh": "指数，索引，指标，标志" },
    { "en": "initiate", "zh": "开始，发起，使了解，传授" },
    { "en": "inner", "zh": "内心的，内部的" },
    { "en": "keen", "zh": "渴望的，浓厚的，强烈的" },
    { "en": "ladder", "zh": "阶梯，梯子" },
    { "en": "lane", "zh": "车道，泳道" },
    { "en": "laser", "zh": "激光" },
    { "en": "layer", "zh": "层，层次，阶层" },
    { "en": "lest", "zh": "唯恐" },
    { "en": "limb", "zh": "肢，树枝" },
    { "en": "loan", "zh": "贷款，借出" },
    { "en": "loom", "zh": "隐约出现，赫然出现" },
    { "en": "loyal", "zh": "忠诚的" },
    { "en": "luggage", "zh": "行李" },
    { "en": "lure", "zh": "诱惑，诱惑力" },
    { "en": "mathematics", "zh": "数学，计算" },
    { "en": "mathematical", "zh": "数学的" },
    { "en": "mayor", "zh": "市长" },
    { "en": "medal", "zh": "奖牌，勋章" }, { "en": "medium", "zh": "媒介，中等的" },
    { "en": "melt", "zh": "融化，软化" },
    { "en": "metal", "zh": "金属" },
    { "en": "mild", "zh": "温和的，不强烈的" },
    { "en": "mineral", "zh": "矿物" },
    { "en": "minor", "zh": "较小的，未成年人" },
    { "en": "mislead", "zh": "误导，使误信" },
    { "en": "mock", "zh": "嘲弄，虚假的，仿制的" },
    { "en": "molecule", "zh": "分子" },
    { "en": "momentum", "zh": "动力" },
    { "en": "monetary", "zh": "货币的" },
    { "en": "myth", "zh": "神话" },
    { "en": "nasty", "zh": "严重的，危险的，令人厌恶的，恶意的" },
    { "en": "neighbour", "zh": "邻居，邻国" },
    { "en": "noble", "zh": "崇高的，宏伟的，高贵的" },
    { "en": "nonetheless", "zh": "尽管如此" },
    { "en": "offspring", "zh": "孩子，幼崽" },
    { "en": "outer", "zh": "外部的，远离中心的" },
    { "en": "oxygen", "zh": "氧，氧气" },
    { "en": "pause", "zh": "暂停" }, { "en": "pearl", "zh": "珍珠" },
    { "en": "pilgrim", "zh": "朝圣者" },
    { "en": "pioneer", "zh": "先驱，拓荒者，开创" },
    { "en": "pipe", "zh": "管子，烟斗，吹奏" },
    { "en": "plain", "zh": "简直，平凡的，平原" },
    { "en": "pledge", "zh": "正式承诺" },
    { "en": "poisonous", "zh": "有毒的，恶意的" },
    { "en": "proud", "zh": "骄傲的" },
    { "en": "provided", "zh": "如果" },
    { "en": "prudent", "zh": "谨慎的，精明的" },
    { "en": "puzzle", "zh": "使困惑" },
    { "en": "raw", "zh": "未经加工的，天然状态的，原始的" },
    { "en": "readily", "zh": "轻而易举地" },
    { "en": "reap", "zh": "收获，收割" },
    { "en": "rear", "zh": "后部的，抚养，培养" },
    { "en": "reckon", "zh": "认为......是......，估计" },
    { "en": "regarding", "zh": "关于" },
    { "en": "rescue", "zh": "救援，营救" },
    { "en": "rob", "zh": "抢劫，盗取" },
    { "en": "rocket", "zh": "火箭，快速增长" }, { "en": "rough", "zh": "大致的，危险的，高低不平的" },
    { "en": "rubber", "zh": "橡皮，橡皮胶" },
    { "en": "save", "zh": "拯救，节省" },
    { "en": "scarcely", "zh": "几乎不，刚一……就" },
    { "en": "sculpture", "zh": "雕塑" },
    { "en": "shrink", "zh": "缩小，退缩" },
    { "en": "shuttle", "zh": "往返班车，频繁往返" },
    { "en": "sketch", "zh": "概述，素描" },
    { "en": "skip", "zh": "蹦跳着跳跃，不做，跳过" },
    { "en": "slice", "zh": "薄片，部分，切成" },
    { "en": "slight", "zh": "轻微的，轻视" },
    { "en": "smooth", "zh": "顺利的，光滑的" },
    { "en": "snap", "zh": "迅速的，啪地关上" },
    { "en": "spare", "zh": "抽出，闲置的" },
    { "en": "spark", "zh": "引发，火星，火花" },
    { "en": "spite", "zh": "伤害，恶意" },
    { "en": "split", "zh": "分成，分裂，分配" },
    { "en": "spoil", "zh": "破坏，宠坏，变质" },
    { "en": "spring", "zh": "春天，跳跃，涌现，活力" },
    { "en": "square", "zh": "正方形，平方，平方的" }, { "en": "squeeze", "zh": "压缩，压榨，挤压，经济困难" },
    { "en": "stadium", "zh": "体育场" },
    { "en": "stake", "zh": "重大利益" },
    { "en": "stereotype", "zh": "成见" },
    { "en": "stove", "zh": "炉灶，炉子" },
    { "en": "stream", "zh": "一系列，溪" },
    { "en": "stretch", "zh": "一段时间，延伸，舒展" },
    { "en": "supplement", "zh": "补充物，增补" },
    { "en": "surgery", "zh": "外科手术，诊疗室" },
    { "en": "surname", "zh": "姓" },
    { "en": "surroundings", "zh": "环境" },
    { "en": "sweep", "zh": "迅速传播，席卷" },
    { "en": "swing", "zh": "改变，摆动" },
    { "en": "tackle", "zh": "处理，与……交涉" },
    { "en": "tactic", "zh": "策略，手段" },
    { "en": "tap", "zh": "利用，水龙头" },
    { "en": "tear", "zh": "眼泪，撕开" },
    { "en": "theme", "zh": "主题" },
    { "en": "thereby", "zh": "因此，由此" },
    { "en": "threshold", "zh": "界，起始点" }, { "en": "tide", "zh": "潮水，趋势" },
    { "en": "tidy", "zh": "整洁的，收拾" },
    { "en": "tight", "zh": "拥挤的，拮据的，严格的" },
    { "en": "tiny", "zh": "极小的" },
    { "en": "token", "zh": "代币，表示，象征性的" },
    { "en": "trigger", "zh": "触发" },
    { "en": "twist", "zh": "转折，急转弯处" },
    { "en": "underlying", "zh": "潜在的，下层的" },
    { "en": "undoubtedly", "zh": "无疑地" },
    { "en": "unity", "zh": "团结一致，协同" },
    { "en": "valley", "zh": "山谷" },
    { "en": "vessel", "zh": "轮船，血管，容器" },
    { "en": "vice", "zh": "恶行，罪行" },
    { "en": "warrant", "zh": "执行令，授权令，保证" },
    { "en": "wheel", "zh": "车轮，方向盘，能轮，有轮之物" },
    { "en": "wholly", "zh": "完全地" },
    { "en": "youngster", "zh": "孩童" },
    { "en": "youth", "zh": "青年，青春" }
  ];

    const pairsPerPage = 20;
    let selectedPairs = [];
    let currentPage = 0;
    let firstSelected = null;
    let secondSelected = null;
    let hintCount = 3; // 所有页面共享的提示次数
    let isChecking = false;
    let timer = null;
    let startTime = null;
    let elapsedTime = 0;
    let matchedPairs = 0;
    let hintCards = [];
    
    // 存储每页的用时（秒）
    let pageTimes = [];
    // 存储每页的完成状态
    let pageCompleted = [];
    
    // 存储已消除的单词
    let completedPairs = {};
    
    // 初始化状态
    function initGameState() {
      pageTimes = [];
      pageCompleted = [];
      completedPairs = {};
      
      for (let i = 0; i < 5; i++) { // 5页
        pageTimes[i] = 0;
        pageCompleted[i] = false;
        completedPairs[i] = [];
      }
      
      matchedPairs = 0;
      currentPage = 0;
    }
    
    // 随机选择100个单词
    function pickRandomPairs(count) {
      const copy = [...allWordPairs];
      shuffle(copy);
      return copy.slice(0, count);
    }
    
    // 洗牌算法
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    
    // 检查单词是否已被消除
    function isPairCompleted(page, enWord) {
      return completedPairs[page].includes(enWord);
    }
    
    // 标记单词为已消除
    function markPairCompleted(page, enWord) {
      if (!completedPairs[page].includes(enWord)) {
        completedPairs[page].push(enWord);
      }
    }
    
    // 音效对象
    const sounds = {
      click: document.getElementById('clickSound'),
      error: document.getElementById('errorSound'),
      success: document.getElementById('successSound'),
      win: document.getElementById('winSound'),
      finalWin: document.getElementById('finalWinSound')
    };

    // 播放音效函数
    function playSound(sound) {
      if (sounds[sound]) {
        sounds[sound].currentTime = 0;
        try {
          sounds[sound].play();
        } catch (e) {
          console.log("音效播放失败:", e);
        }
      }
    }

    // 格式化时间显示
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    // 开始计时
    function startTimer() {
      if (timer) return;
      
      // 如果当前页已有用时记录，则继续计时
      if (pageTimes[currentPage] > 0) {
        startTime = Date.now() - pageTimes[currentPage] * 1000;
      } else {
        startTime = Date.now();
      }
      
      timer = setInterval(() => {
        elapsedTime = Math.floor((Date.now() - startTime) / 1000);
        document.getElementById('timeDisplay').textContent = formatTime(elapsedTime);
      }, 1000);
    }

    // 停止计时并保存用时
    function stopTimer() {
      if (timer) {
        clearInterval(timer);
        timer = null;
        // 保存当前页用时
        pageTimes[currentPage] = elapsedTime;
      }
    }

    // 重置当前页计时器
    function resetCurrentTimer() {
      stopTimer();
      elapsedTime = 0;
      document.getElementById('timeDisplay').textContent = formatTime(elapsedTime);
    }

    function createGame() {
      const gameContainer = document.getElementById("game");
      gameContainer.innerHTML = "";

      // 获取当前页的单词对
      const pagePairs = selectedPairs.slice(currentPage * pairsPerPage, (currentPage + 1) * pairsPerPage);
      
      // 过滤掉已完成的单词
      const activePairs = pagePairs.filter(pair => 
        !completedPairs[currentPage].includes(pair.en)
      );
      
      const cards = [];
      activePairs.forEach(pair => {
        cards.push({ text: pair.en, type: "en", match: pair.zh });
        cards.push({ text: pair.zh, type: "zh", match: pair.en });
      });

      shuffle(cards);

      // 更新统计信息
      document.getElementById('pairCount').textContent = completedPairs[currentPage].length;
      document.getElementById('remaining').textContent = activePairs.length;
      matchedPairs = completedPairs[currentPage].length;
      
      // 重置提示高亮
      hintCards = [];
      
      // 更新提示次数
      updateHintButton();

      cards.forEach(item => {
        const div = document.createElement("div");
        div.className = `card ${item.type === "en" ? "english" : "chinese"}`;
        div.textContent = item.text;
        div.dataset.match = item.match;
        div.dataset.type = item.type;
        gameContainer.appendChild(div);

        div.addEventListener("click", () => {
          if (div.classList.contains("hidden") || isChecking) return;
          
          // 如果是第一次点击，启动计时器
          if (!timer && matchedPairs === 0) {
            startTimer();
          }
          
          playSound('click');
          div.classList.add('selected');
          
          // 如果点击的是提示高亮的卡片，移除高亮
          if (hintCards.includes(div)) {
            hintCards = hintCards.filter(card => card !== div);
            div.classList.remove('hint-highlight');
          }
          
          if (!firstSelected) {
            firstSelected = div;
          } else if (!secondSelected && div !== firstSelected) {
            secondSelected = div;
            isChecking = true;
            
            // 检查是否匹配
            if (firstSelected.dataset.match === secondSelected.textContent &&
                secondSelected.dataset.match === firstSelected.textContent) {
              playSound('success');
              
              // 匹配成功
              firstSelected.classList.add('match');
              secondSelected.classList.add('match');
              
              setTimeout(() => {
                // 获取英文单词
                const enCard = firstSelected.dataset.type === "en" ? firstSelected : secondSelected;
                const enWord = enCard.textContent;
                
                // 标记为已完成
                markPairCompleted(currentPage, enWord);
                
                firstSelected.classList.add("hidden");
                secondSelected.classList.add("hidden");
                resetSelection();
                isChecking = false;
                
                // 更新统计信息
                matchedPairs++;
                document.getElementById('pairCount').textContent = matchedPairs;
                document.getElementById('remaining').textContent = activePairs.length - matchedPairs;
                
                // 检查游戏是否完成
                checkGameCompletion();
              }, 800);
            } else {
              playSound('error');
              
              // 匹配失败
              setTimeout(() => {
                firstSelected.classList.remove("selected");
                secondSelected.classList.remove("selected");
                resetSelection();
                isChecking = false;
              }, 800);
            }
          }
        });
      });

      updateNavigation();
      
      // 显示当前页的用时
      if (pageTimes[currentPage] > 0) {
        document.getElementById('timeDisplay').textContent = formatTime(pageTimes[currentPage]);
      } else {
        document.getElementById('timeDisplay').textContent = "00:00";
      }
    }

    function resetSelection() {
      firstSelected = null;
      secondSelected = null;
    }

    function updateNavigation() {
      document.getElementById("prevPage").disabled = currentPage === 0;
      document.getElementById("nextPage").disabled = (currentPage + 1) * pairsPerPage >= selectedPairs.length;
    }

    function updateHintButton() {
      document.getElementById("hintCount").textContent = hintCount;
      document.getElementById("hint").disabled = hintCount === 0;
    }

    function giveHint() {
      if (hintCount <= 0 || isChecking) return;
      
      const cards = Array.from(document.querySelectorAll('.card:not(.hidden)'));
      for (let i = 0; i < cards.length; i++) {
        for (let j = i + 1; j < cards.length; j++) {
          if (
            cards[i].dataset.match === cards[j].textContent &&
            cards[j].dataset.match === cards[i].textContent
          ) {
            // 添加提示动画
            cards[i].classList.add('hint-highlight');
            cards[j].classList.add('hint-highlight');
            
            // 保存高亮卡片以便后续移除
            hintCards.push(cards[i], cards[j]);
            
            hintCount--;
            updateHintButton();
            return;
          }
        }
      }
    }

    function checkGameCompletion() {
      const visibleCards = document.querySelectorAll('.card:not(.hidden)');
      if (visibleCards.length === 0) {
        // 游戏完成
        stopTimer();
        pageCompleted[currentPage] = true;
        
        setTimeout(() => {
          playSound('win');
          showConfetti();
          
          // 更新模态框信息
          document.getElementById('finalTime').textContent = formatTime(pageTimes[currentPage]);
          document.getElementById('hintsUsed').textContent = 3 - hintCount;
          document.getElementById('totalWords').textContent = pairsPerPage;
          
          document.getElementById('successModal').style.display = 'flex';
        }, 500);
      }
    }
    
    // 检查所有页面是否完成
    function checkAllPagesCompleted() {
      for (let i = 0; i < 5; i++) {
        if (!pageCompleted[i]) return false;
      }
      return true;
    }
    
    // 显示最终完成弹窗
    function showFinalModal() {
      // 计算总用时
      let totalSeconds = 0;
      pageTimes.forEach(time => {
        totalSeconds += time;
      });
      
      // 更新最终统计
      document.getElementById('totalTime').textContent = formatTime(totalSeconds);
      document.getElementById('totalHintsUsed').textContent = 3 - hintCount;
      
      // 显示弹窗
      document.getElementById('finalModal').style.display = 'flex';
      playSound('finalWin');
      showConfetti();
    }

    function showConfetti() {
      const colors = ['#ff85a2', '#a6d0ff', '#ffd166', '#8ac926', '#ff6b6b'];
      for (let i = 0; i < 80; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.width = Math.random() * 10 + 5 + 'px';
        confetti.style.height = confetti.style.width;
        confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
        document.body.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }
    
    // 重新抽取单词
    function reshufflePairs() {
      selectedPairs = pickRandomPairs(100);
      hintCount = 3; // 重置提示次数
      initGameState();
      createGame();
    }

    // 初始化游戏
    document.getElementById("prevPage").addEventListener("click", () => {
      if (currentPage > 0) {
        stopTimer();
        currentPage--;
        createGame();
      }
    });

    document.getElementById("nextPage").addEventListener("click", () => {
      if ((currentPage + 1) * pairsPerPage < selectedPairs.length) {
        stopTimer();
        currentPage++;
        createGame();
      }
    });

    document.getElementById("hint").addEventListener("click", giveHint);
    document.getElementById("reshuffle").addEventListener("click", reshufflePairs);

    document.getElementById("continueBtn").addEventListener("click", () => {
      document.getElementById('successModal').style.display = 'none';
      
      // 检查是否所有页面都已完成
      if (checkAllPagesCompleted()) {
        showFinalModal();
      } else if (currentPage < 4) { // 5页（0-4）
        currentPage++;
        createGame();
      }
    });
    
    document.getElementById("restartFinalBtn").addEventListener("click", () => {
      document.getElementById('finalModal').style.display = 'none';
      reshufflePairs();
    });
    
    document.getElementById("exitBtn").addEventListener("click", () => {
      alert("感谢使用单词复习检验！您可以关闭此页面退出。");
    });

    // 初始加载
    initGameState();
    selectedPairs = pickRandomPairs(100);
    createGame();
  </script>
</body>
</html>